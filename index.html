<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è‰¯ã„ã“ã¨æ‚ªã„ã“ã¨è€ƒå¯Ÿç”¨</title>

<style>
  body { 
    font-family: sans-serif; 
    background: #ffffcc; 
    padding: 20px; 
  }

  .voteResult {
    font-weight: bold; 
    margin-left: 10px; 
    color: #cc9900;
  }

  #chatBox { 
    border: 1px solid #cc9900; 
    background: #fff8b3; 
    padding: 10px; 
    height: 300px; 
    overflow-y: auto; 
  }

  input, textarea { 
    width: 100%; 
    margin-bottom: 12px; 
    padding: 8px; 
    font-size: 1em; 
  }

  button { 
    background-color: #cc9900; 
    color: white; 
    padding: 10px; 
    border: none; 
    border-radius: 6px; 
    cursor: pointer; 
    margin-bottom: 12px;
  }

  .row {
    display: flex;
    gap: 12px;
    margin-bottom: 12px;
  }

  .row button {
    flex: 1;
  }

  p.message {
    border-bottom: 1px solid #cc9900;
    padding-bottom: 6px;
    margin-bottom: 6px;
  }

  #adminBox {
    margin-top: 40px;
    padding: 15px;
    border: 2px dashed #aa7700;
    background: #fff3a0;
  }

  #toc {
    margin: 10px 0 30px 0;
  }

  #toc a {
    color: #0066ff;
    text-decoration: none;
    font-weight: bold;
    margin-right: 15px;
  }

  #toc a:hover {
    text-decoration: underline;
  }

  #stampSelector {
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #fff8b3;
    border: 2px solid #cc9900;
    border-radius: 8px;
    padding: 15px;
    z-index: 1000;
    box-shadow: 0 0 10px #cc9900;
  }

  #stampSelector .stampList img {
    width: 60px;
    height: 60px;
    cursor: pointer;
    margin: 5px;
  }
</style>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>

<body>

<h1>è‰¯ã„ã“ã¨æ‚ªã„ã“ã¨è€ƒå¯Ÿç”¨</h1>
<p>ä½œ: ã‚‰ã‚‚</p>

<div id="toc">
  <a href="#voteSection">æŠ•ç¥¨</a>
  <a href="#messageSection">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</a>
  <a href="#adminSection">ç®¡ç†è€…æ¨©é™</a>
</div>

<h2 id="voteSection">æŠ•ç¥¨ãŠé¡˜ã„ã—ã¾ã™</h2>

<label><input type="radio" name="vote" value="ã‚¿ã‚«ã‚­ãƒ³ã‚°"> ã‚¿ã‚«ã‚­ãƒ³ã‚°</label>
<span class="voteResult" id="takakingCount">0 ç¥¨</span><br>

<label><input type="radio" name="vote" value="ã‚¿ãƒ¼ãƒœãƒ¼"> ã‚¿ãƒ¼ãƒœãƒ¼</label>
<span class="voteResult" id="taboCount">0 ç¥¨</span><br>

<label><input type="radio" name="vote" value="ã‚¿ãƒ¼ãƒœãƒ¼ã®å¦»"> ã‚¿ãƒ¼ãƒœãƒ¼ã®å¦»</label>
<span class="voteResult" id="taboWifeCount">0 ç¥¨</span><br>

<label><input type="radio" name="vote" value="ã‚¤ãƒã‚¯ãƒ‹"> ã‚¤ãƒã‚¯ãƒ‹</label>
<span class="voteResult" id="imakuniCount">0 ç¥¨</span><br>

<label><input type="radio" name="vote" value="åˆ‘äº‹"> åˆ‘äº‹</label>
<span class="voteResult" id="keijiCount">0 ç¥¨</span><br>

<label><input type="radio" name="vote" value="ã‚¢ãƒãƒ­"> ã‚¢ãƒãƒ­</label>
<span class="voteResult" id="apolloCount">0 ç¥¨</span><br>

<button onclick="vote()">æŠ•ç¥¨ã™ã‚‹</button>

<hr>

<h2 id="messageSection">ãŠè©±ã—ã‚¾ãƒ¼ãƒ³</h2>

<input id="nameInput" placeholder="ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ">
<textarea id="messageInput" rows="4" placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"></textarea>

<div class="row">
  <button onclick="sendMessage()">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹</button>
  <button onclick="toggleUnknownTime()" id="timeBtn">æ™‚é–“ï¼šé€šå¸¸</button>
</div>

<div class="row">
  <button onclick="openStampSelector()">ã‚¹ã‚¿ãƒ³ãƒ—ã‚’é¸æŠ</button>
  <button onclick="sharePage()">ã¿ã‚“ãªã‚’å‘¼ã¶ğŸ””</button>
</div>

<div id="stampSelector">
  <div class="stampList"></div>
  <button onclick="closeStampSelector()">é–‰ã˜ã‚‹</button>
</div>

<h3>ã¿ã‚“ãªã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h3>
<div id="chatBox"></div>

<p id="onlineCount">è¦‹ã¦ã„ã‚‹äºº: 0äºº</p>
<p id="onlineIDs">è¦‹ã¦ã„ã‚‹äººã®ID: ãªã—</p>

<hr>

<div id="adminBox">
  <h2 id="adminSection">ç®¡ç†è€…æ¨©é™</h2>

  <input id="adminInput" placeholder="ç®¡ç†è€…ã‚³ãƒ¼ãƒ‰">
  <button onclick="checkAdmin()">ç®¡ç†è€…èªè¨¼</button>

  <button id="deleteAll">âš  ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€æ‹¬å‰Šé™¤</button>

  <h3>BANã‚·ã‚¹ãƒ†ãƒ </h3>
  <input id="banIDInput" placeholder="BANã™ã‚‹ID">
  <button id="banBtn">IDæŒ‡å®šã§BAN</button>

  <input id="unbanIDInput" placeholder="è§£é™¤ã™ã‚‹ID">
  <button id="unbanBtn">BANè§£é™¤</button>

  <p id="banList">ãªã—</p>
</div>

<script>
/* Firebaseè¨­å®šã¯ãã®ã¾ã¾ */

let isAdmin = false;

function checkAdmin() {
  isAdmin = adminInput.value === "1x4s";
  alert(isAdmin ? "ç®¡ç†è€…OK" : "ã‚³ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™");
}

/* å…±æœ‰ï¼ˆã‚¹ãƒãƒ›å®Œå…¨å¯¾å¿œï¼‰ */
function sharePage() {
  if (navigator.share) {
    navigator.share({
      title: document.title,
      text: "ã¿ã‚“ãªæ¥ã¦ï¼",
      url: location.href
    });
  } else {
    alert("ã“ã®ç«¯æœ«ã§ã¯å…±æœ‰ã§ãã¾ã›ã‚“");
  }
}
</script>

</body>
</html>
