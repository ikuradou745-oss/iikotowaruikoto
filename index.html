<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è‰¯ã„ã“ã¨æ‚ªã„ã“ã¨è€ƒå¯Ÿç”¨</title>

<style>
  body { 
    font-family: sans-serif; 
    background: #ffffcc; 
    padding: 20px; 
  }

  .voteResult {
    font-weight: bold; 
    margin-left: 10px; 
    color: #cc9900;
  }

  #chatBox { 
    border: 1px solid #cc9900; 
    background: #fff8b3; 
    padding: 10px; 
    height: 300px; 
    overflow-y: auto; 
  }

  input, textarea { 
    width: 100%; 
    margin-bottom: 10px; 
    padding: 8px; 
    font-size: 1em; 
  }

  button { 
    background-color: #cc9900; 
    color: white; 
    padding: 10px; 
    border: none; 
    border-radius: 4px; 
    cursor: pointer; 
    margin-bottom: 10px;
  }

  .row {
    display: flex;
    gap: 10px;
  }

  .row button {
    flex: 1;
  }

  p.message {
    border-bottom: 1px solid #cc9900;
    padding-bottom: 5px;
    margin-bottom: 5px;
  }

  #adminBox {
    margin-top: 40px;
    padding: 15px;
    border: 2px dashed #aa7700;
    background: #fff3a0;
  }

  /* ç›®æ¬¡ãƒªãƒ³ã‚¯ã®ã‚¹ã‚¿ã‚¤ãƒ« */
  #toc {
    margin: 10px 0 30px 0;
  }

  #toc a {
    color: #cc9900;
    text-decoration: none;
    font-weight: bold;
    margin-right: 15px;
  }

  #toc a:hover {
    text-decoration: underline;
  }

  /* ã‚¹ã‚¿ãƒ³ãƒ—é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«é¢¨ */
  #stampSelector {
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #fff8b3;
    border: 2px solid #cc9900;
    border-radius: 8px;
    padding: 15px;
    z-index: 1000;
    box-shadow: 0 0 10px #cc9900;
  }
  #stampSelector h3 {
    margin-top: 0;
    color: #cc9900;
  }
  #stampSelector .stampList {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    max-width: 300px;
  }
  #stampSelector .stampList img {
    width: 60px;
    height: 60px;
    cursor: pointer;
    border: 2px solid transparent;
    border-radius: 6px;
    transition: border-color 0.2s;
  }
  #stampSelector .stampList img:hover {
    border-color: #cc9900;
  }
  #stampSelector button.closeBtn {
    background: #cc9900;
    margin-top: 10px;
  }

  /* ===== ã‚ªãƒ¼ãƒŠãƒ¼æ¨©é™ï¼ˆèµ¤ï¼‰ ===== */
#ownerBox {
  margin-top: 20px;
  padding: 15px;
  border: 2px solid red;
  background: #ffe5e5;
}

#ownerBox h3 {
  color: red;
  margin-top: 0;
}

#ownerBox button {
  background-color: red;
}

#ownerBox button:hover {
  background-color: #cc0000;
}


</style>
  
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

</head>

<body>

<!-- ã‚µã‚¤ãƒˆé–‰é–ç”»é¢ -->
<div id="closedScreen" style="display:none; text-align:center; margin-top:50px;">
  <h1>ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¯é–‰ã–ã•ã‚Œã¦ã„ã¾ã™ã€‚</h1>
  <p>ã‚ªãƒ¼ãƒŠãƒ¼å°‚ç”¨ã‚³ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã¦ãã ã•ã„ã€‚</p>

  <input type="text" id="ownerCodeInput" placeholder="ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›">
  <br>
  <button onclick="unlockSite()">é–‹ã</button>
</div>

<!-- é€šå¸¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
<div id="mainContent">
  
<h1>è‰¯ã„ã“ã¨æ‚ªã„ã“ã¨è€ƒå¯Ÿç”¨</h1>
<p>ä½œ: ã‚‰ã‚‚</p>

<!-- ã“ã“ã‹ã‚‰ç›®æ¬¡ -->
<div id="toc">
  <a href="#voteSection">æŠ•ç¥¨</a>
  <a href="#messageSection">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</a>
  <a href="#adminSection">ç®¡ç†è€…æ¨©é™</a>
</div>
<!-- ç›®æ¬¡ã“ã“ã¾ã§ -->

<h2 id="voteSection">æŠ•ç¥¨ãŠé¡˜ã„ã—ã¾ã™</h2>
<p>çŠ¯äººã¯èª°ã ã¨æ€ã†ï¼Ÿ</p>

<div>
  <label><input type="radio" name="vote" value="ã‚¿ã‚«ã‚­ãƒ³ã‚°"> ã‚¿ã‚«ã‚­ãƒ³ã‚°</label>
  <span class="voteResult" id="takakingCount">0 ç¥¨</span>
</div>

<div>
  <label><input type="radio" name="vote" value="ã‚¿ãƒ¼ãƒœãƒ¼"> ã‚¿ãƒ¼ãƒœãƒ¼</label>
  <span class="voteResult" id="taboCount">0 ç¥¨</span>
</div>

<div>
  <label><input type="radio" name="vote" value="ã‚¿ãƒ¼ãƒœãƒ¼ã®å¦»"> ã‚¿ãƒ¼ãƒœãƒ¼ã®å¦»</label>
  <span class="voteResult" id="taboWifeCount">0 ç¥¨</span>
</div>

<div>
  <label><input type="radio" name="vote" value="ã‚¤ãƒã‚¯ãƒ‹"> ã‚¤ãƒã‚¯ãƒ‹</label>
  <span class="voteResult" id="imakuniCount">0 ç¥¨</span>
</div>

<div>
  <label><input type="radio" name="vote" value="åˆ‘äº‹"> åˆ‘äº‹</label>
  <span class="voteResult" id="keijiCount">0 ç¥¨</span>
</div>

<div>
  <label><input type="radio" name="vote" value="ã‚¢ãƒãƒ­"> ã‚¢ãƒãƒ­</label>
  <span class="voteResult" id="apolloCount">0 ç¥¨</span>
</div>



<button onclick="vote()">æŠ•ç¥¨ã™ã‚‹</button>

<hr>

<h2 id="messageSection">ãŠè©±ã—ã‚¾ãƒ¼ãƒ³</h2>

<p>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ </p>
<input type="text" id="nameInput" placeholder="ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ">

<p>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</p>
<textarea id="messageInput" rows="4"></textarea>

<div class="row">
  <button onclick="sendMessage()">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹</button>
  <button onclick="toggleUnknownTime()" id="timeBtn">æ™‚é–“ï¼šé€šå¸¸</button>
</div>

<!-- ã‚¹ã‚¿ãƒ³ãƒ—é¸æŠãƒœã‚¿ãƒ³ ã¨ã€€å…±æœ‰ -->
<div class="row">
  <button onclick="openStampSelector()">ã‚¹ã‚¿ãƒ³ãƒ—ã‚’é¸æŠ</button>
  <button id="shareBtn">ã¿ã‚“ãªã‚’å‘¼ã¶ğŸ””</button>
</div>

<div id="shareFallback" style="display:none; margin-top:10px;">
  <p>
    ã‚ãªãŸã®ç«¯æœ«ã§ã¯å…±æœ‰ã§ãã¾ã›ã‚“ã€‚<br>
    Chromeãƒ–ãƒ©ã‚¦ã‚¶ãªã©ã§é–‹ã„ã¦ãã ã•ã„ã€‚
  </p>
  <p>
    ãã‚Œä»¥å¤–ã®æ–¹æ³•ï¼š<br>
    ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€LINEãªã©ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚
  </p>
  <button id="copyBtn">ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼</button>
  <p id="copyMsg" style="display:none; color:green;">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</p>
</div>




<!-- ã‚¹ã‚¿ãƒ³ãƒ—é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="stampSelector">
  <h3>ã‚¹ã‚¿ãƒ³ãƒ—ã‚’é¸ã‚“ã§ã­ï¼</h3>
  <div class="stampList" id="stampList">
    <!-- ã‚¹ã‚¿ãƒ³ãƒ—ç”»åƒãŒã“ã“ã«å…¥ã‚‹ -->
  </div>
  <button class="closeBtn" onclick="closeStampSelector()">é–‰ã˜ã‚‹</button>
</div>

<h3>ã¿ã‚“ãªã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h3>
<div id="chatBox"></div>

<p id="onlineCount">è¦‹ã¦ã„ã‚‹äºº: 0äºº</p>
<p id="onlineIDs">è¦‹ã¦ã„ã‚‹äººã®ID: ãªã—</p>

<hr>

<div id="adminBox">
  <h2 id="adminSection">ç®¡ç†è€…æ¨©é™</h2>



  <input type="text" id="adminInput" placeholder="ç®¡ç†è€…ã‚³ãƒ¼ãƒ‰">

  <button id="deleteAll">âš  ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€æ‹¬å‰Šé™¤</button>



  <h3>BANã‚·ã‚¹ãƒ†ãƒ </h3>

  <input type="text" id="banIDInput" placeholder="BANã™ã‚‹ID">
  <button id="banBtn">IDæŒ‡å®šã§BANã™ã‚‹</button>

  <input type="text" id="unbanIDInput" placeholder="è§£é™¤ã™ã‚‹ID">
  <button id="unbanBtn">IDæŒ‡å®šã§BANã‚’è§£é™¤ã™ã‚‹</button>

  <h4>ç¾åœ¨BANä¸­ã®IDä¸€è¦§</h4>
  <p id="banList">ãªã—</p>
</div>

<hr>

<h3>ã‚ªãƒ¼ãƒŠãƒ¼æ¨©é™</h3>

<input type="text" id="ownerInput" placeholder="ã‚ªãƒ¼ãƒŠãƒ¼ã‚³ãƒ¼ãƒ‰ï¼ˆåŸºæœ¬çš„ã«ã¯ã‚‰ã‚‚å°‚ç”¨ï¼‰">

<button id="closeSiteBtn">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã‚‹ âš ï¸</button>

<hr>

<div id="bigMessageBox">
  <h3>ã§ã‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ğŸ“•</h3>

  <input type="text" id="bigMessageInput" placeholder="ã§ã‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ï¼ˆåˆ¶é™ãªã—ï¼‰">

  <button id="sendBigMessageBtn">ã§ã‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹ ğŸ“•</button>
</div>


<script>
const firebaseConfig = {
  apiKey: "AIzaSyDcds20u1-6-nk7710P4xddsa-m1wDL0TQ",
  authDomain: "iikotowaruikoto-d5aa7.firebaseapp.com",
  databaseURL: "https://iikotowaruikoto-d5aa7-default-rtdb.firebaseio.com",
  projectId: "iikotowaruikoto-d5aa7",
  storageBucket: "iikotowaruikoto-d5aa7.appspot.com",
  messagingSenderId: "455780219216",
  appId: "1:455780219216:web:225461fcf24c1a46f69455"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

  // ===== ã‚µã‚¤ãƒˆé–‰é–ãƒã‚§ãƒƒã‚¯ =====
const closedScreen = document.getElementById("closedScreen");
const mainContent = document.getElementById("mainContent");

db.ref("siteClosed").on("value", snap => {
  const closed = snap.val();

  if (closed === true) {
    closedScreen.style.display = "block";
    mainContent.style.display = "none";
  } else {
    closedScreen.style.display = "none";
    mainContent.style.display = "block";
  }
});


function generateID() {
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let id = "";
  for (let i = 0; i < 8; i++) {
    id += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return id;
}

let userID = localStorage.getItem("userID");
if (!userID) {
  userID = generateID();
  localStorage.setItem("userID", userID);
}

db.ref("bans/" + userID).on("value", s => {
  if (s.exists()) {
    document.body.innerHTML = "<h1>ã‚ãªãŸã¯BANã•ã‚Œã¦ã„ã¾ã™</h1>";
  }
});

// ===== æŠ•ç¥¨ =====
function updateVotesUI(votes) {
  takakingCount.innerText = (votes["ã‚¿ã‚«ã‚­ãƒ³ã‚°"] || 0) + " ç¥¨";
  taboCount.innerText = (votes["ã‚¿ãƒ¼ãƒœãƒ¼"] || 0) + " ç¥¨";
  taboWifeCount.innerText = (votes["ã‚¿ãƒ¼ãƒœãƒ¼ã®å¦»"] || 0) + " ç¥¨";
  imakuniCount.innerText = (votes["ã‚¤ãƒã‚¯ãƒ‹"] || 0) + " ç¥¨";
  keijiCount.innerText = (votes["åˆ‘äº‹"] || 0) + " ç¥¨";
  apolloCount.innerText = (votes["ã‚¢ãƒãƒ­"] || 0) + " ç¥¨";
}

db.ref("votes").on("value", s => updateVotesUI(s.val() || {}));

function vote() {
  const sel = document.querySelector('input[name="vote"]:checked');
  if (!sel) return alert("é¸ã‚“ã§ã­ï¼");
  db.ref("votes/" + sel.value).transaction(n => (n || 0) + 1);
}

// ===== ãƒãƒ£ãƒƒãƒˆ & æ™‚é–“ON/OFF =====

let unknownTime = false;

function toggleUnknownTime() {
  unknownTime = !unknownTime;
  const btn = document.getElementById("timeBtn");
  btn.textContent = unknownTime ? "æ™‚é–“ï¼šä¸æ˜" : "æ™‚é–“ï¼šé€šå¸¸";
}

const chatBox = document.getElementById("chatBox");

db.ref('messages').on('child_added', snap => {
  const msg = snap.val();
  const time = msg.timestamp === "unknown" ? "ä¸æ˜" : new Date(msg.timestamp).toLocaleString();
  const p = document.createElement("p");
  p.className = "message";

  if (msg.type === "stamp") {
    p.innerHTML = `<strong>${msg.name} [${msg.userID}]</strong><br><img src="${msg.stampUrl}" alt="ã‚¹ã‚¿ãƒ³ãƒ—" width="80" />` +
      `<br><small>${time}</small>`;
  } else {
    p.innerHTML = `<strong>${msg.name} [${msg.userID}]</strong><br>${msg.message}<br><small>${time}</small>`;
  }

  chatBox.prepend(p);







});

function sendMessage() {
  const name = document.getElementById("nameInput").value.trim();
  const message = document.getElementById("messageInput").value.trim();

  if (!name || !message) {
    alert("å…¥åŠ›ã—ã¦ã­ï¼");
    return;
  }

  const time = unknownTime ? "unknown" : Date.now();



  db.ref("messages").push({
    name,
    message,
    userID,
    timestamp: time,
    type: "text"
  });

  document.getElementById("messageInput").value = "";
}

// ===== ã‚¹ã‚¿ãƒ³ãƒ—é¸æŠæ©Ÿèƒ½ =====

const stamps = [
  "stamp1.png",
  "stamp2.png",
  "stamp3.png",
  "stamp4.png",
  "stamp5.png",
  "stamp6.png",
  "stamp7.png"
];


const stampSelector = document.getElementById("stampSelector");
const stampList = document.getElementById("stampList");

function openStampSelector() {
  stampList.innerHTML = ""; // ä¸€æ—¦ãƒªã‚»ãƒƒãƒˆ
  stamps.forEach(src => {
    const img = document.createElement("img");
    img.src = src;
    img.alt = "ã‚¹ã‚¿ãƒ³ãƒ—";
    img.onclick = () => {
      sendStamp(src);
      closeStampSelector();
    };
    stampList.appendChild(img);
  });
  stampSelector.style.display = "block";
}

function closeStampSelector() {
  stampSelector.style.display = "none";
}

function sendStamp(stampUrl) {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) {
    alert("ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’å…¥ã‚Œã¦ã­ï¼");
    return;
  }
  const time = unknownTime ? "unknown" : Date.now();

  db.ref("messages").push({
    name: name,
    type: "stamp",
    stampUrl: stampUrl,
    userID: userID,
    timestamp: time
  });

}

// ===== ç®¡ç†è€… =====

let isAdmin = false;

document.getElementById("adminInput").addEventListener("change", () => {
  isAdmin = document.getElementById("adminInput").value === "1x4s";
  alert(isAdmin ? "ç®¡ç†è€…OK" : "ã‚³ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™");
});

document.getElementById("deleteAll").onclick = () => {
  if (!isAdmin) return alert("ç®¡ç†è€…ã®ã¿");
  if (confirm("å…¨éƒ¨æ¶ˆã—ã¾ã™ã‹ï¼Ÿ")) {
    db.ref("messages").remove();
    chatBox.innerHTML = "";
  }
};

document.getElementById("banBtn").onclick = () => {
  if (!isAdmin) return alert("ç®¡ç†è€…ã®ã¿");
  const id = document.getElementById("banIDInput").value.trim();
  if (!id) return alert("IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
  if (confirm(`IDã€Œ${id}ã€ã‚’BANã—ã¾ã™ã‹ï¼Ÿ`)) {
    db.ref("bans/" + id).set(true);
  }
};

document.getElementById("unbanBtn").onclick = () => {
  if (!isAdmin) return alert("ç®¡ç†è€…ã®ã¿");
  const id = document.getElementById("unbanIDInput").value.trim();
  if (!id) return alert("IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
  if (confirm(`IDã€Œ${id}ã€ã®BANã‚’è§£é™¤ã—ã¾ã™ã‹ï¼Ÿ`)) {
    db.ref("bans/" + id).remove();
  }
};

// ===== BANãƒªã‚¹ãƒˆã®è¡¨ç¤º =====
const banListP = document.getElementById("banList");
db.ref("bans").on("value", snapshot => {
  const bans = snapshot.val() || {};
  const ids = Object.keys(bans);
  banListP.textContent = ids.length === 0 ? "ãªã—" : ids.join(", ");
});

// ===== è¦‹ã¦ã„ã‚‹äººï¼ˆBANé™¤å¤–ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼‰ =====
const onlineCountP = document.getElementById("onlineCount");
const onlineIDsP = document.getElementById("onlineIDs");
const presenceRef = db.ref("presence/" + userID);
const presenceListRef = db.ref("presence");

// æ¥ç¶šçŠ¶æ…‹ã®ç®¡ç†
db.ref(".info/connected").on("value", snap => {
  if (snap.val() === true) {
    presenceRef.set(true);
    presenceRef.onDisconnect().remove();
  }
});

let currentBanIDs = [];
let currentPresenceIDs = [];

function updateOnlineDisplay() {
  // BANã•ã‚Œã¦ã„ã‚‹IDã‚’é™¤ã„ã¦è¡¨ç¤º
  const visibleIDs = currentPresenceIDs.filter(id => !currentBanIDs.includes(id));
  onlineCountP.textContent = `è¦‹ã¦ã„ã‚‹äºº: ${visibleIDs.length}äºº`;
  onlineIDsP.textContent = visibleIDs.length === 0 ? "è¦‹ã¦ã„ã‚‹äººã®ID: ãªã—" : `è¦‹ã¦ã„ã‚‹äººã®ID: ${visibleIDs.join(", ")}`;
}

db.ref("bans").on("value", snapshot => {
  const bans = snapshot.val() || {};
  currentBanIDs = Object.keys(bans);
  updateOnlineDisplay();
});

presenceListRef.on("value", snap => {
  const ids = [];
  snap.forEach(child => {
    ids.push(child.key);
  });
  currentPresenceIDs = ids;
  updateOnlineDisplay();
});

  // ===== ã¿ã‚“ãªã‚’å‘¼ã¶ï¼ˆå…±æœ‰ï¼‰ =====
const shareBtn = document.getElementById("shareBtn");
const fallbackBox = document.getElementById("shareFallback");
const copyBtn = document.getElementById("copyBtn");
const copyMsg = document.getElementById("copyMsg");

const shareData = {
  title: "è‰¯ã„ã“ã¨æ‚ªã„ã“ã¨è€ƒå¯Ÿç”¨",
  text: "æ²ç¤ºæ¿ã§å¾…ã£ã¦ã‚‹ã‚ˆï¼ğŸ””ğŸ˜„éŠæ—¥ã«æ¥ã¦ã­ï¼ğŸš—ã„ã„äº‹æ‚ªã„äº‹ã®è€ƒå¯Ÿã‚‚ã‚„ã£ã¦ã‚‹ã‚ˆï¼ğŸ“ºã‚ã¨è‰²ã€…ã‚„ã£ã¦ã‚‹ã—ï¼çµ¶å¯¾éŠã³ã«ãã¦ã­ï¼ğŸ ",
  url: location.href
};


if (shareBtn) {
  shareBtn.onclick = async () => {
    if (navigator.share && navigator.canShare?.(shareData)) {
      try {
        await navigator.share(shareData);
      } catch (e) {
        // ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ™‚ã¯ä½•ã‚‚ã—ãªã„
      }
    } else {
      fallbackBox.style.display = "block";
    }
  };
}

if (copyBtn) {
  copyBtn.onclick = async () => {
    try {
      await navigator.clipboard.writeText(location.href);
      copyMsg.style.display = "block";
      setTimeout(() => copyMsg.style.display = "none", 2000);
    } catch (e) {
      alert("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ");
    }
  };
}

  // ===== ã‚ªãƒ¼ãƒŠãƒ¼è§£é™¤ã‚³ãƒ¼ãƒ‰ =====
function unlockSite() {
  const input = document.getElementById("ownerCodeInput").value;

  if (input === "5y3y") {
    db.ref("siteClosed").set(false);
    alert("ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã—ãŸï¼");
  } else {
    alert("ã‚³ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™");
  }
}

  // ===== ã‚ªãƒ¼ãƒŠãƒ¼æ¨©é™ =====
let isOwner = false;

const ownerInput = document.getElementById("ownerInput");
const closeSiteBtn = document.getElementById("closeSiteBtn");

if (ownerInput) {
  ownerInput.addEventListener("change", () => {
    isOwner = ownerInput.value === "5y3y";
    alert(isOwner ? "ã‚ªãƒ¼ãƒŠãƒ¼èªè¨¼OK" : "ã‚ªãƒ¼ãƒŠãƒ¼ã‚³ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™");
  });
}

if (closeSiteBtn) {
  closeSiteBtn.onclick = () => {
    if (!isOwner) {
      alert("ã‚ªãƒ¼ãƒŠãƒ¼å°‚ç”¨ã§ã™");
      return;
    }

    if (confirm("æœ¬å½“ã«ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã¾ã™ã‹ï¼Ÿ")) {
      db.ref("siteClosed").set(true);
      alert("ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã¾ã—ãŸ");
    }
  };
}


  
</script>

  </div> <!-- mainContent çµ‚ã‚ã‚Š -->
  
</body>
</html>
